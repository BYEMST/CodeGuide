---
title: 【更】第2-11节：交易规则责任链过滤
pay: https://t.zsxq.com/PaSMk
---

# 《拼团交易平台系统》第2-11节：交易规则责任链过滤

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)
<br/>视频：[https://t.zsxq.com/wxTw6](https://t.zsxq.com/wxTw6)

> 沉淀、分享、成长，让自己和他人都能有所收获！😄

大家好，我是小傅哥

为什么公司里有些人做了很多事情，写了很多代码，但到最后也没有多大的成绩呢？

其实很多时候就是太重复了，从刚开始对工程不理解，到能熟练上手以后，就从脑力活变成了体力活，一遍遍的重复自己。所以，就算是工作几年，也和前面刚开始工作差不多，就只是熟练了业务，但技术却没有提升。

所以，多提高编程思维，锻炼编码能力，一次次对工程进行抽象，提炼出骨架的核心设计，才是非常重要的。

## 一、本章诉求

完善拼团交易营销锁单的流程，增加锁单流程中的规则处理。

本节的规则过滤，会使用到前面章节设计的统一的设计模式框架中的责任链模式。对这类轻量的场景，一般只需要选择单链的执行模型即可，而与之对比的规则树，是适合于那种节点间的复杂分支流转。

## 二、业务流程

如图，增加交易规则处理；

<div align="center">
    <img src="https://bugstack.cn/images/article/project/group-buy-market/group-buy-market-2-11-01.png" width="650px">
</div>

<div align="center">
    <img src="https://bugstack.cn/images/article/project/group-buy-market/group-buy-market-2-11-02.png" width="650px">
</div>

- 在前面章节，我们实现了拼团锁单中，参数校验、幂等校验、达成校验，之后做了营销试算和营销锁单。
- 那么在本节，还需要对营销锁单继续完善，过滤拼团活动配置的规则。包括；活动的有效期、状态，以及个人参与拼团的次数。在实际公司中的项目里，还会有更多的规则要被处理。