---
title: 面试：技能、简历、问题汇总
lock: no
---

# 《拼团交易平台系统》，关于面试中的技能、简历、问题汇总

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)
<br/>课程：[https://t.zsxq.com/Yfbwo](https://t.zsxq.com/Yfbwo)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

<iframe id="B-Video" src="//player.bilibili.com/player.html?isOutside=true&aid=114007373515865&bvid=BV1GQAPevE8j&cid=28405336788&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="480"> </iframe>

此部分主要用于向读者提供星球项目之一的《拼团交易平台系统》项目如何体现到简历中，包括；专业技能、项目经验。

## 一、项目介绍

你可以根据是实习、实践、导师任务、学校课程、自己学习，几个方向来描述项目来源。

举例；

面试官你好，拼团交易平台系统，是我在日常使用`拼多多`、`腾讯`、`京东`等服务平台，交易支付时候，了解到这样的一种营销手段。它可以通过用户自传播方式增强交易量，也是拼多多最开始起家形成巨大规模的一个业务逻辑。因此非常感兴趣这样的系统，所以根据大厂分享的资料、与对应的架构师UP进行交流学习了，设计了这样一套系统。

该系统采用了 DDD 领域驱动设计进行建模，拆分领域模块边界，形成；活动领域、人群领域、交易领域，来构建拼团营销交易流程，达到试算、锁单、结算等步骤流程。这个过程中提炼了通用设计模式，规则树、责任链，可以非常有效的统一的治理流程编排实现。

## 二、简历模板

注意：🙅🏻‍ 不要直接复制粘贴简历模板内容！视频提供了 DeepSeek AI 方式编写简历，可以参考。

- **项目名称**：`拼团营销服务系统`、`交易营销场景 - 拼团系统`、`营销拼团交易平台`、`仿拼多多/腾讯/京东，拼团玩法系统（以大厂项目为背书）`、`拼团外卖平台系统（结合其他项目一起组合）`  - 参考以上方式编写自己的项目名称，尤其拼团还是一个微服务，可以和很多其他系统组合。

- **项目架构**：`微服务设计`、`分布式架构`、`DDD 领域驱动设计 + 六边形分层架构实现`、`前后端分离技术`

- **核心技术**：SpringBoot、MyBatis、MySQL、Guava、Redis、RabbitMQ、动态配置中心（DCC）、普罗米修斯监控、Docker等 - 如果学习了其他技术栈也可以补充。

- **项目描述**：
  - 方式1（以学习视角介绍）：本项目参考`拼多多`交易购物拼团场景，调研中大厂相关营销业务场景和技术架构方案，设计实现了本套拼团营销服务系统，支持各类营销优惠（直减、折扣、N元购）。该系统以面向对象开发，运用 DDD 拆分领域边界，使用设计模式设计服务功能。提高系统的扩展性和可维护性。
  - 方式2（以提供服务介绍）：该项目以`拉动/促进/提高`（小型支付商城/外卖点餐/购票出行/...）交易单量为目标，通过设计拼团优惠组队下单为手段，达到增强用户自传播分享私域提高整个交易GMV的结果。三段式描述，`...目标，...手段，...结果`
  - 方式3（以实际场景介绍）：该项目是以促进Xxx公司Xxx场景的核心营销优惠玩法系统，围绕公司的xxx、yyy、zzz等全部交易业务，设计通用的拼团优惠锁单和组队结算回调服务。此系统分布式架构设计，可支撑单机压测量 xxx tps，tp99 xxx 的数据指标，有效的满足公司的全量的业务场景接入使用。
	
- **核心方案**：

  - **架构设计**，以 DDD 领域驱动设计，四色建模方式，按照系统功能流程，拆解服务边界。包括；活动域、标签域、交易域。
  - **设计模式**，设计并提炼通用的`责任链`、`规则树`模型框架，解决领域场景中多处，需要使用设计模式解耦复杂流程链路的调度（避免过多的if...else判断）。鉴于多处场景的责任链使用，模块框架设计责任链为执行和链路分离组装，便于工厂可以组合出各类执行责任链，不被不同的链路管理影响（以往的责任链，一般是单例的，会被影响）。
  - **规则过滤**；
    - （举例）以拼团试算场景举例，运用通用设计模式模型框架，完成试算；根节点、切量开关、营销折扣、人群标签、异常兜底等流程串联。设计这样解耦设计，极大的提到了程序的可扩展性。
    - （举例）以拼团锁单场景举例，拼团锁单场景，使用通用的责任链模型框架，校验活动的有效性（状态、有效期）和用户的参与资格。
    - （举例）以拼团结算场景举例，拼团结算场景，使用通用的责任链模型框架，校验渠道黑名单配置、拼团组队信息、交易时间属性、订单有效状态等。
    - （举例）以拼团试算场景举例，在查询优惠配置数据时候，抽象出模板结构，使用 Supplier 函数式编程，设计动态降级、缓存数据和 dao 的后置执行操作。通用模板的设计让所有场景更容易接入。`ActivityRepository#queryGroupBuyActivityDiscountVO` 
      
  - **异步线程**，为提高用户体验，将拼团优惠试算所需的营销类数据加载，由串行改为异步线程并行执行。此执行方式由通用设计模式模型框架提供。（如果由引入星球的动态线程池，也可以在这里增加线程池的管理描述）
  - **功能方案**；
    - （举例）通过 Redis 发布订阅模型，结合 Spring AOP 切面和代理，以自定义注解的方式控制属性信息动态配置。减少系统与 Redis 的 IO 交互，提高对高频场景属性值的使用时间效率。
    - （举例）设计拼团组队结算的 HTTP、MQ 双重手段，满足外部应用和内部微服务的不同方式对接，增强系统的适配性。同时为了保证整体方案的可靠性，在结算触达时，先异步多线程方式即时触发回调（HTTP、MQ），再通过业务一致性任务数据补偿校验。（MQ、HTTP，都可能因网络原因导致失败，因此需要重试）任务的触达，还增加多分布式锁，让任务互备抢占方式执行，增强系统的鲁棒性设计。
    - （举例）设计 Redis BitSet/BitMap 人群标签，用于过滤可见和可参与，拼团活动的人群信息。该人群标签可依赖于过往用户数据（交易下单）通过 job 任务完成人群标签的录入。
    - （举例）通过策略模式，设计拼团折扣（MJ、ZJ、NYG）的计算策略。同时折扣的计算也会通过人群标签过滤，以满足运营策略配置，降低活动风险。
    - （举例）运用 retrofit2/okhttp3/spring cloud fegin + nginx 负载，对接拼团交易平台锁单服务，以及通过 http 回调和 MQ 监听来处理交易结算。
    - （举例）`三阶段实现的内容`，通过独占锁处理互备任务抢占执行回调，确保在同一时刻有一个运行的回调任务，提高系统的鲁棒性设计。
    - （举例）`三阶段实现的内容`，设计Redis无锁化拼团库存抢占和恢复库存处理，减轻数据库行锁独占的压力，提高系统吞吐量。
    - （举例）`三阶段实现的内容`，抽象通用函数式缓存分级设计，并结合扳手工程DCC动态配置，处理缓存降级到DB设计。
    - （举例）`三阶段实现的内容`，结合 RateLimiter + DCC 动态配置，实现动态限流配置。
    - （举例）`三阶段实现的内容`，以 Ai MCP + ELK + 普罗米修斯监控，以 Ai Agent 智能体方式，分析错误日志和异常监控，动态化展示监控报表。
    - （举例）`三阶段实现的内容`，通过枚举策略，设计多种类型退单（未支付&未成团、已支付&未成团、已支付&已成团），并通过回调处理退单退款。
  
> 不要局限于以上的描述，可以结合 Ai + 喂进去的信息，给你描述出属于你独一无二的简历描述。这样更有益于你的面试。

## 三、面试问题

### 1. 为什么需要拼团平台使用http或rpc，mq对接商城平台,而不是二者放到一起?

http、rpc，属于即时性调用，立即反馈结果的场景。mq 用于异步驱动，流程解耦。而拼团组队的场景，组队是需要多人参与和支付的情形，只有统一完成拼团后，才能 mq 驱动后续流程。而不是一开始 http 请求就能立马拼团组队完成。

### 2. 为什么做了微服务的拆分，拆分的依据是什么？为什么拆分了微服务之后还要拆分领域？可不可以每个领域都作为一个微服务？

微服务的目的是划分大的系统边界，拆分原则可以包括；按业务功能拆分、按数据模型拆分、按团队结构拆分、按技术特性拆分、按变更频率拆分，但不要过度细化的拆分，避免造成分布式系统过度复杂性。

而对于拼团场景是一个独立的营销玩法，可以被拆分成一个独立的微服务。这样迭代、维护、上线，也都会更加轻量，也便于与其他平台对接。之后对于拼团内的服务模块，都以支撑拼团为主，符合最新当前的诉求进行设计。当然没有永远的适合，如果将来拼团变得更大，需要支撑的场景更多，也会考虑做模块的微服务拆分。

### 3. 优惠试算使用了多线程异步加载，为什么这里不用缓存？

试算加载的是当前用户行为的最新数据，而缓存则不适用于此场景。当然如果试算中有一些不频繁变化的偏固定的配置类数据，则可以通过缓存处理。另外，在公司（美团、京东、字节、滴滴等）拼团场景则更为复杂，试算时候需要的数据量更多，多线程则会更体现出必要性。

### 4. 平台在高并发下的扣减库存和防止超卖是怎么做的？

这一块的库存扣减使用的是无锁化设计，setnx 兜底。但如果是加分布式锁，则会出现排队问题，达不到最大并发的效果。而因库存使用了 redis 计数 + 锁，以及添加了幂等恢复量，所以不会有超卖问题。

### 1. 项目设计与架构

1. **为什么选择DDD领域驱动设计？如何划分领域边界？**
   **答**：DDD能有效解决复杂业务逻辑的拆解问题，通过四色建模和业务场景分析，划分出活动域（管理拼团规则）、标签域（用户画像和权限过滤）、交易域（订单和结算）。例如，拼团锁单流程属于交易域，而人群标签过滤属于标签域。
2. **微服务间如何通信？如何保证数据一致性？**
   **答**：对内外对接系统，分别采用HTTP（Feign/RestTemplate）和 MQ（RabbitMQ）方案。关键链路（如订单结算）通过MQ保证最终一致性，结合本地事务表+补偿任务（如定时检查未完成的结算请求）。
3. **六边形架构如何落地？解决了什么问题？**
   **答**：通过适配器层隔离核心业务与外部依赖（如数据库、Redis）。例如，订单结算的核心逻辑独立于HTTP回调或MQ监听的具体实现，提升核心代码的稳定性和可测试性。

> DDD 是一个亮点，中大厂公司都在推进 DDD 的项目重构。站在技术角度，这样的架构更好维护。站在领导角度，这样的拆分可以更好了解系统设计便于制订KPI。同时有清晰的业务领域划分，AI 开发工具可以更好的结合进来。[招聘里DDD的体现，jump 🏃🏻](https://bugstack.cn/md/zsxq/memorabilia/job-hire-jd.html)

### 2. 核心技术实现

1. **Redis在项目中如何应用？举例说明**
   **答**：1）BitMap存储用户标签（如是否参与过某活动）；2）分布式锁控制拼团组队结算触达并发；3）缓存活动配置（如有效期、折扣规则），降低数据库压力。

2. **责任链模式如何解耦复杂流程？举例说明**
   **答**：拼团锁单流程拆解为多个处理器链：活动状态校验→用户资格校验→库存检查。每个处理器独立实现，通过工厂模式动态组装，避免if-else嵌套。

3. **异步线程如何优化性能？如何管理线程池？**
   **答**：将营销数据加载从串行改为并行（如使用CompletableFuture）。通过动态线程池监控任务队列和拒绝策略，结合普罗米修斯采集指标，避免线程池耗尽。`注意多准备下多线程、线程池的八股`

### 3. 核心业务场景

1. **拼团结算的HTTP和MQ双重回调如何设计？如何保证可靠性？**
   **答**：1）结算后同时发送HTTP请求和MQ消息；2）异步线程池处理回调，失败后进入重试队列；3）定时任务补偿未完成回调，配合分布式锁避免重复执行。
2. **人群标签如何通过BitMap实现？举例说明**
   **答**：例如，用户ID哈希后映射到BitMap的某一位。运营配置“仅限新用户”的活动时，Job任务扫描历史订单，将老用户对应位标记为0，查询时通过`BITCOUNT`判断资格。
3. **策略模式在折扣计算中的应用？如何扩展新策略？**
   **答**：定义接口`DiscountStrategy`，实现类 `MJCalculateService`（满减）、`NCalculateService`（N元购）、`ZJCalculateService`（直减）、`ZKCalculateService`（折扣）。新增策略时只需添加实现类并注册到Spring上下文，通过策略工厂按类型调用。

### 4. 高并发与容错（这部分会在第3阶段加入）

1. **如何解决库存超卖问题？**
   **答**：1）Redis原子操作（DECR）预扣库存；2）数据库最终扣减时加乐观锁；3）异步补偿任务回滚异常订单。
2. **分布式锁的实现方案？遇到过哪些坑？**
   **答**：基于Redis的Redisson（看门狗机制续期）。注意点：1）锁粒度细化（按活动ID+商品ID）；2）避免锁过期后业务未执行完，需结合版本号校验。
3. **如何设计熔断降级策略？**
   **答**：Sentinel监控外部服务（如支付接口）的异常比例，超阈值时熔断，降级为返回默认错误码或缓存数据，并记录日志供补偿任务处理。

### 5. 监控与运维（这部分会在第3阶段加入）

如配置说明接入普罗米修斯监控，同时也可以使用 arthas、dump mat。地址：[https://bugstack.cn/md/road-map/grafana.html](https://bugstack.cn/md/road-map/grafana.html)

1. **普罗米修斯监控哪些指标？如何定位性能瓶颈？**
   **答**：监控接口TP99、线程池活跃度、Redis命中率、MQ堆积量。通过Grafana仪表盘分析慢SQL（MyBatis拦截器采集）或高耗时责任链节点。
2. **动态配置中心如何实现？如何保证实时性？**
   **答**：基于Nacos/Zookeeper，配置变更时通过Spring Cloud Bus通知服务。关键配置（如活动开关）结合本地缓存，通过@RefreshScope实时生效。
3. **Docker化部署的优化经验？**
   **答**：1）多阶段构建减小镜像体积；2）JVM参数调优（-Xmx限制内存）；3）健康检查接口 skywalking、artash 探针结合，实现系统监控。

### 6. 设计模式与代码规范

1. **规则树模式如何实现？举例说明**
   **答**：根节点为入口，子节点为具体规则（如切量、标签过滤）。每个节点实现`RuleNode`接口，通过组合模式构建树形结构，支持动态扩展节点。
2. **如何避免策略模式带来的类膨胀问题？**
   **答**：1）将策略实现类定义为无状态Bean，复用实例；2）通过注解+自动扫描注册策略；3）策略参数化配置，减少重复代码。
3. **AOP在项目中的典型应用场景？**
   **答**：1）DCC 动态配置中心；2）@LogTrack 记录核心链路日志（切面加日志，可以让 DeepSeek 写个案例）；
   
### 7. 扩展性与业务，你怎么设计新功能？

1. **如何支持多种拼团类型（如老带新、阶梯团）？**
   **答**：抽象拼团模板（Template Pattern），定义成团条件接口（如人数满额、金额达标）。新增类型时实现接口，并通过工厂模式注入。
2. **如何设计活动预热机制？**
   **答**：1）活动开始前定时任务加载配置到Redis；2）缓存热门活动的商品信息；3）通过压测工具预热JVM和线程池。
3. **如何实现灰度发布？**
   **答**：1）Apollo配置中心按用户ID百分比切流；2）网关层根据请求头路由到新老服务；3）结合Prometheus监控异常，快速回滚。

### 8. 综合问题

1. **项目中最大的挑战是什么？如何解决？**
   **答**：高并发下Redis雪崩。解决方案：1）缓存分层（本地缓存+Redis）；2）热点数据预加载；3）随机过期时间。
2. **如果让你重构系统，会优化哪些点？**
   **答**：1）引入分库分表解决订单表膨胀；2）增加AI + RAG + MCP 提供智能分析和运营服务；3）使用Guava本地缓存，管理复杂数据结构。
3. **如何向非技术人员解释系统设计？**
   **答**：类比“组队购物”，系统像智能管家：1）自动匹配规则（如折扣）；2）确保组队不超时；3）失败时自动重试，保证最终成功。

>关于系统面试问题，涉及到的监控、数据、指标类，最好使用云服务部署上线 + 普罗米修斯监控完成压测和优化。
